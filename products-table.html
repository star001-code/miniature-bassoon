<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<title>ðŸ“Š Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<h1>ðŸ“Š Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h1>
<input id="q" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø£Ùˆ IDE ..." oninput="filter()">
<table border="1" width="100%">
<thead><tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>IDE</th><th>GDS_YER</th></tr></thead>
<tbody id="tb"></tbody>
</table>

<script>
let DB=[],VIEW=[];
const $=s=>document.querySelector(s);
function render(){
  const tb=$("#tb"); tb.innerHTML="";
  VIEW.forEach(r=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`
      <td>
        <a href="product-search.html?name=${encodeURIComponent(r.product)}" target="_blank">${r.product}</a>
        <button onclick="openIDE('${r.IDE||''}')">ðŸ”— IDE</button>
      </td>
      <td>${r.IDE||"-"}</td>
      <td>${r.GDS_YER}</td>`;
    tb.appendChild(tr);
  });
}
function filter(){
  const q=$("#q").value.toLowerCase();
  VIEW=DB.filter(r=>r.product.toLowerCase().includes(q)||(r.IDE||"").toLowerCase().includes(q));
  render();
}
function openIDE(ide){
  if(!ide){alert("Ù…Ø§ÙƒÙˆ IDE");return;}
  window.open("product-search.html?ide="+encodeURIComponent(ide),"_blank");
}
fetch("products.json").then(r=>r.json()).then(js=>{DB=js;VIEW=DB;render();});
</script>
</body>
</html>
